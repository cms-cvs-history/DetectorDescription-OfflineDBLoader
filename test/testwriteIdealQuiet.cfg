# orig: Michael Case

process GeometryTest = {
# empty input service; empty source for now.
   untracked PSet maxEvents = {untracked int32 input = 1}	
   source = EmptySource {  }
        include "CondCore/DBCommon/data/CondDBCommon.cfi"
        replace CondDBCommon.connect = "sqlite_file:testIdeal.db"
#        replace CondDBCommon.catalog = "xmlcatalog_file:PoolFileCatalog.xml"
        replace CondDBCommon.DBParameters.messageLevel = 0
        replace CondDBCommon.DBParameters.authenticationPath = "./"
        source = EmptyIOVSource {
           string timetype = "runnumber"
           untracked uint32 firstRun = 1
           untracked uint32 lastRun = 1
           uint32 interval = 1    
    }
        service = PoolDBOutputService{
           using CondDBCommon
           VPSet toPut = {
	    {string record = "IdealGeometryRecord" string tag = "IdealGeometry01" }
	}
    }

   include "DetectorDescription/OfflineDBLoader/test/data/cmsIdealGeometryForWrite.cfi"
   module load = WriteOneGeometryFromXML { 
#      string userName="fred"
#      string password="fred"
#      string connection="sqlite_file:testIdeal.db"
#      string metaName="IdealGeometry01"
#      string recType="geometry"
#      int32 rotationNumberingSeed = 0
	int32 rotNumSeed = 0
      untracked bool dumpGeoHistory=false
      untracked bool dumpSpecs=false
      untracked bool dumpPosInfo=false
   }

    module print = AsciiOutputModule {}

    path p1 = { load } 
    endpath ep = { print }
}
